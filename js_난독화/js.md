#### javascript 난독화
: 자바스크립트 코드 자체를 `분석하기 어렵게` 만드는 과정

> ※ 다만 "어렵게"이므로 별도의 보안 처리 없이 중요 정보를 넣는 것은 위험하다. 

--------------------------------

#### brea 
<img src=./brea.png>
사진에서 볼 수 있듯이 벽돌 깨기 게임이라는 것을 알 수 있다. 

``` 
...
document[e15+e19+e24+e11+e26+e23](f2(82)+f2(92)+f2(64)+f2(93)+f2(86)+f2(78)+f2(87),f1,false);
document[e15+e19+e24+e11+e26+e23](f2(82)+f2(92)+f2(64)+f2(76)+f2(73),f3, false);
document[e15+e19+e24+e11+e26+e23](f2(84)+f2(86)+f2(76)+f2(74)+f2(92)+f2(84)+f2(86)+f2(79)+f2(92),f4,false);
...

```
그러나 소스코드 보기를 한 결과, javascript가 난독화 되어있었다. 

하나하나 값을 대조해본(...) 결과, 다음과 같은 결과가 나왔다.

* f10, f8, f9 : 도형 그리는 함수
* f11, f12 : 글자 쓰는 함수
* f2 : 인자 값에 대한 문자 반환 함수
* f6, f7 : 수상한 함수,,,, f2를 사용하는 것을 보아 문자열과 관련되어있을 것 같다. 

여기서 중요한 함수는 `f2`라는 것을 알게 되었다.

-------------------------------

`f2 함수 분석`
```
function f2(e){
	return String[e21+e14+e10](e^57);
}
```
#### String.fromCharCode( )
: 인자로 받은 아스키 코드 값을 해당 문자로 변환하여 반환해주는 함수

즉, 여기선 `인자 값 e와 57을 xor한 값의 문자`를 반환해준다.  
##### (처음에는 57승인 줄 알고 뻘짓을....)

----------------------------------

`f6, f7 함수 분석`

`f6 )`
```
function f6(){
	alert(f2(96)+f2(118)+f2(108)+f2(25)+f2(110)+f2(112)+f2(119)+f2(21)+f2(25)+f2(122)+f2(118)+f2(119)+f2(126)+f2(107)+f2(120)+f2(109)+f2(106)+f2(24));
	document[e1+e5+e3][e2+e6]();
}
```

  
`f7)` 
```
function f7(){
	document[e1+e5+e3][e7+e4]=f2(13)+f2(15)+f2(10)+f2(8)+f2(14)+f2(9)+f2(11)+f2(10)+f2(93)+f2(9)+f2(93)+f2(12)+f2(12)+f2(88)+f2(23)+f2(73)+f2(81)+f2(73);
}
```

우선 f6을 보면 `alert()`을 통해 어떠한 문자열을 출력해주는 것을 알 수 있다. 따라서, 파이썬을 사용해 어떤 문자열인지 알아내는 프로그램을 만들었다.

python ) 
```
a=[(f2 함수의 인자 값들)]
b=""
for c in a:
    b += str(chr(c^57))
    print(b)

print(b)
```

결과는 다음과 같았다.

```
> congratu......
```

즉 f6은 모든 벽돌을 깼을 때 축하 메시지를 출력해주는 함수이다.  

f7의 결과는 다음과 같았다.

```
> 46317023d0d55a.php
```

정말정말 수상한 파일 이름이 나왔다. 즉, 이 파일에 flag값이 숨어져 있을 것이라고 생각을 했고, url에 입력해 본 결과

```
J4V4SCR1PT_1S_2ASY_T00_CR4CK
```
`flag`가 나왔다.

> flag : J4V4SCR1PT_1S_2ASY_T00_CR4CK

